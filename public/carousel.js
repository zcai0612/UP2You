
const carousel1Items = [
    {
        id: "00127_Inner",
        left: {
            src: "src/assets/00127_Inner_Take8_00133/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00127_Inner_Take8_00133/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00127_Inner_Take8_00133/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00127_Outer",
        left: {
            src: "src/assets/00127_Outer_Take11_00011/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00127_Outer_Take11_00011/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00127_Outer_Take11_00011/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00129_Inner",
        left: {
            src: "src/assets/00129_Inner_Take1_00011/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00129_Inner_Take1_00011/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00129_Inner_Take1_00011/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00129_Outer",
        left: {
            src: "src/assets/00129_Outer_Take9_00130/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00129_Outer_Take9_00130/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00129_Outer_Take9_00130/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00134_Inner",
        left: {
            src: "src/assets/00134_Inner_Take10_00006/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00134_Inner_Take10_00006/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00134_Inner_Take10_00006/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00134_Outer",
        left: {
            src: "src/assets/00134_Outer_Take12_00011/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00134_Outer_Take12_00011/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00134_Outer_Take12_00011/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00135_Inner",
        left: {
            src: "src/assets/00135_Inner_Take10_00006/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00135_Inner_Take10_00006/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00135_Inner_Take10_00006/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00135_Outer",
        left: {
            src: "src/assets/00135_Outer_Take12_00006/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00135_Outer_Take12_00006/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00135_Outer_Take12_00006/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00136_Inner",
        left: {
            src: "src/assets/00136_Inner_Take5_00023/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00136_Inner_Take5_00023/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00136_Inner_Take5_00023/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00136_Outer",
        left: {
            src: "src/assets/00136_Outer_Take17_00021/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00136_Outer_Take17_00021/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00136_Outer_Take17_00021/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00137_Inner",
        left: {
            src: "src/assets/00137_Inner_Take5_00021/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00137_Inner_Take5_00021/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00137_Inner_Take5_00021/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00137_Outer",
        left: {
            src: "src/assets/00137_Outer_Take12_00021/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00137_Outer_Take12_00021/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00137_Outer_Take12_00021/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00140_Inner",
        left: {
            src: "src/assets/00140_Inner_Take10_00011/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00140_Inner_Take10_00011/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00140_Inner_Take10_00011/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00140_Outer",
        left: {
            src: "src/assets/00140_Outer_Take15_00002/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00140_Outer_Take15_00002/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00140_Outer_Take15_00002/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00147_Inner",
        left: {
            src: "src/assets/00147_Inner_Take9_00023/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00147_Inner_Take9_00023/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00147_Inner_Take9_00023/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00147_Outer",
        left: {
            src: "src/assets/00147_Outer_Take13_00021/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00147_Outer_Take13_00021/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00147_Outer_Take13_00021/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00148_Inner",
        left: {
            src: "src/assets/00148_Inner_Take9_00001/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00148_Inner_Take9_00001/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00148_Inner_Take9_00001/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00148_Outer",
        left: {
            src: "src/assets/00148_Outer_Take12_00011/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00148_Outer_Take12_00011/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00148_Outer_Take12_00011/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00160_Inner",
        left: {
            src: "src/assets/00160_Inner_Take10_00011/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00160_Inner_Take10_00011/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00160_Inner_Take10_00011/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00160_Outer",
        left: {
            src: "src/assets/00160_Outer_Take12_00011/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00160_Outer_Take12_00011/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00160_Outer_Take12_00011/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00163_Inner",
        left: {
            src: "src/assets/00163_Inner_Take3_00066/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00163_Inner_Take3_00066/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00163_Inner_Take3_00066/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00163_Outer",
        left: {
            src: "src/assets/00163_Outer_Take16_00021/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00163_Outer_Take16_00021/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00163_Outer_Take16_00021/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00167_Inner",
        left: {
            src: "src/assets/00167_Inner_Take1_00041/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00167_Inner_Take1_00041/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00167_Inner_Take1_00041/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00167_Outer",
        left: {
            src: "src/assets/00167_Outer_Take10_00021/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00167_Outer_Take10_00021/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00167_Outer_Take10_00021/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00168_Inner",
        left: {
            src: "src/assets/00168_Inner_Take1_00021/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00168_Inner_Take1_00021/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00168_Inner_Take1_00021/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00168_Outer",
        left: {
            src: "src/assets/00168_Outer_Take9_00023/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00168_Outer_Take9_00023/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00168_Outer_Take9_00023/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00169_Inner",
        left: {
            src: "src/assets/00169_Inner_Take0_00021/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00169_Inner_Take0_00021/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00169_Inner_Take0_00021/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00169_Outer",
        left: {
            src: "src/assets/00169_Outer_Take13_00012/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00169_Outer_Take13_00012/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00169_Outer_Take13_00012/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00170_Inner",
        left: {
            src: "src/assets/00170_Inner_Take10_00001/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00170_Inner_Take10_00001/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00170_Inner_Take10_00001/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "00170_Outer",
        left: {
            src: "src/assets/00170_Outer_Take19_00011/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/00170_Outer_Take19_00011/render_rgb.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/00170_Outer_Take19_00011/render_normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    }
];


const carousel2Items = [
    {
        id: "001",
        left: {
            src: "src/assets/in_the_wild/001/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/001/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/001/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "002",
        left: {
            src: "src/assets/in_the_wild/002/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/002/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/002/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "003",
        left: {
            src: "src/assets/in_the_wild/003/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/003/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/003/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "012",
        left: {
            src: "src/assets/in_the_wild/012/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/012/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/012/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "004",
        left: {
            src: "src/assets/in_the_wild/004/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/004/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/004/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "005",
        left: {
            src: "src/assets/in_the_wild/005/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/005/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/005/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "006",
        left: {
            src: "src/assets/in_the_wild/006/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/006/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/006/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "007",
        left: {
            src: "src/assets/in_the_wild/007/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/007/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/007/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "008",
        left: {
            src: "src/assets/in_the_wild/008/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/008/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/008/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "009",
        left: {
            src: "src/assets/in_the_wild/009/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/009/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/009/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "010",
        left: {
            src: "src/assets/in_the_wild/010/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/010/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/010/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    },
    {
        id: "011",
        left: {
            src: "src/assets/in_the_wild/011/ref_images_grid.png",
            alt: "Input Images",
            caption: "Input Images",
            type: "image"
        },
        middle: {
            src: "src/assets/in_the_wild/011/render.mp4",
            alt: "RGB Output",
            caption: "RGB Output",
            type: "video"
        },
        right: {
            src: "src/assets/in_the_wild/011/normal.mp4",
            alt: "Normal Output",
            caption: "Normal Output",
            type: "video"
        }
    }
];


const videoCarouselItems = [
    { source: "src/assets/corr_map/00122.mp4" },
    { source: "src/assets/corr_map/00123.mp4" },
    { source: "src/assets/corr_map/00137.mp4" },
    { source: "src/assets/corr_map/00149.mp4" },
    { source: "src/assets/corr_map/00180.mp4" }
];

// 三列轮播功能
function createThreeColumnsCarousel(carouselId, items) {
    let currentIndex = 0;
    const container = document.getElementById(`current-item-${carouselId}`);
    const counter = document.getElementById(`counter-${carouselId}`);
    const prevBtn = document.getElementById(`prev-btn-${carouselId}`);
    const nextBtn = document.getElementById(`next-btn-${carouselId}`);

    function renderCurrentItem() {
        const currentItem = items[currentIndex];
        
        container.innerHTML = `
            <div class="flex-1 min-w-[12rem]">
                <div class="image-container">
                    ${currentItem.left.type === 'video' 
                        ? `<video src="${currentItem.left.src}" muted loop playsinline autoplay controls></video>`
                        : `<img src="${currentItem.left.src}" alt="${currentItem.left.alt}">`
                    }
                    <span class="image-caption">${currentItem.left.caption}</span>
                </div>
            </div>
            
            <div class="flex-1 min-w-[12rem]">
                <div class="image-container">
                    ${currentItem.middle.type === 'video' 
                        ? `<video src="${currentItem.middle.src}" muted loop playsinline autoplay controls></video>`
                        : `<img src="${currentItem.middle.src}" alt="${currentItem.middle.alt}">`
                    }
                    <span class="image-caption">${currentItem.middle.caption}</span>
                </div>
            </div>
            
            <div class="flex-1 min-w-[12rem]">
                <div class="image-container">
                    ${currentItem.right.type === 'video' 
                        ? `<video src="${currentItem.right.src}" muted loop playsinline autoplay controls></video>`
                        : `<img src="${currentItem.right.src}" alt="${currentItem.right.alt}">`
                    }
                    <span class="image-caption">${currentItem.right.caption}</span>
                </div>
            </div>
        `;
    }

    function updateCounter() {
        counter.textContent = `${currentIndex + 1} / ${items.length}`;
    }

    function goToPrevious() {
        currentIndex = currentIndex === 0 ? items.length - 1 : currentIndex - 1;
        renderCurrentItem();
        updateCounter();
    }

    function goToNext() {
        currentIndex = currentIndex === items.length - 1 ? 0 : currentIndex + 1;
        renderCurrentItem();
        updateCounter();
    }

    // 绑定事件
    prevBtn.addEventListener('click', goToPrevious);
    nextBtn.addEventListener('click', goToNext);

    // 初始化
    renderCurrentItem();
    updateCounter();
}

// 视频轮播功能
function createVideoCarousel() {
    let currentIndex = 0;
    const container = document.getElementById('current-video');
    const counter = document.getElementById('counter-video');
    const prevBtn = document.getElementById('prev-btn-video');
    const nextBtn = document.getElementById('next-btn-video');

    function renderCurrentVideo() {
        const currentVideo = videoCarouselItems[currentIndex];
        
        container.innerHTML = `
            <div class="w-full">
                <video 
                    src="${currentVideo.source}" 
                    muted 
                    loop 
                    playsinline 
                    autoplay 
                    controls 
                    style="width: 100%; height: auto; max-height: 500px; object-fit: contain;"
                    class="rounded-lg shadow-lg"
                ></video>
            </div>
        `;
    }

    function updateCounter() {
        counter.textContent = `${currentIndex + 1} / ${videoCarouselItems.length}`;
    }

    function goToPrevious() {
        currentIndex = currentIndex === 0 ? videoCarouselItems.length - 1 : currentIndex - 1;
        renderCurrentVideo();
        updateCounter();
    }

    function goToNext() {
        currentIndex = currentIndex === videoCarouselItems.length - 1 ? 0 : currentIndex + 1;
        renderCurrentVideo();
        updateCounter();
    }

    // 绑定事件
    prevBtn.addEventListener('click', goToPrevious);
    nextBtn.addEventListener('click', goToNext);

    // 初始化
    renderCurrentVideo();
    updateCounter();
}

// 页面加载完成后初始化轮播
document.addEventListener('DOMContentLoaded', function() {
    createThreeColumnsCarousel('1', carousel1Items);
    createThreeColumnsCarousel('2', carousel2Items);
    createVideoCarousel();
});
